<!doctype html>
<html>
	<head>
		<title>Leaflet.Control.FullScreen Demo (ESM)</title>
		<link rel="icon" type="image/svg+xml" href="../icon-fullscreen.svg" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet@latest/dist/leaflet.css" />
		<link rel="stylesheet" href="../dist/Control.FullScreen.css" />
		<link rel="stylesheet" href="demo.css" />

		<script type="importmap">
			{
				"imports": {
					"leaflet": "https://unpkg.com/leaflet@latest/dist/leaflet-src.esm.js"
				}
			}
		</script>
	</head>
	<body>
		<div id="map"></div>
		<div id="description">
			<div class="nav-buttons">
				<a href="../index.html" class="back-button">‚Üê Back to Home</a>
				<a href="https://github.com/brunob/leaflet.fullscreen/blob/master/demo/demo.esm.html" target="_blank" class="view-source-button">üìÑ View Source</a>
			</div>

			<div class="description-content">
				<h3>ES Module Demo</h3>
				<p>This example demonstrates modern ES6 module usage with Import Maps for native browser support.</p>

				<p><strong>Features:</strong></p>
				<ul>
					<li>Uses native <code>import</code> statements</li>
					<li>Import Map resolves bare specifiers</li>
					<li>Named exports (<code>FullScreen</code>)</li>
					<li>No global namespace pollution</li>
					<li>Tree-shakeable for bundlers</li>
				</ul>

				<p><strong>Try it:</strong> Use the fullscreen button (top-left of the map) to enter/exit fullscreen mode.</p>

				<p style="margin-top: 20px; padding-top: 16px; border-top: 1px solid #dee2e6"><strong>Programmatic API:</strong></p>
				<p style="font-size: 13px; color: #6c757d">You can also control fullscreen via JavaScript using <code>map.fullscreenControl.toggleFullScreen()</code></p>
				<button type="button" class="demo-button" onclick="toggleFullscreen()" style="background: #6c757d; font-size: 13px; padding: 8px 12px">Test API Toggle</button>
			</div>
		</div>
		<script type="module">
			import { TileLayer, LatLng, Map } from 'leaflet';
			import { FullScreen } from '../dist/Control.FullScreen.js';

			const tiles = new TileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
				maxZoom: 18,
				attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
			});

			const latlng = new LatLng(48.5, -4.5);

			const map = new Map('map', {
				layers: [tiles],
				center: latlng,
				zoom: 5
			});

			// Add fullscreen control
			map.addControl(
				new FullScreen({
					position: 'topleft',
					title: 'Show me the fullscreen!',
					titleCancel: 'Exit fullscreen mode'
				})
			);

			// Detect fullscreen toggling
			map.on('enterFullscreen', () => console.log('enterFullscreen'));
			map.on('exitFullscreen', () => console.log('exitFullscreen'));

			// Programmatic toggle function
			window.toggleFullscreen = function () {
				map.fullscreenControl.toggleFullScreen();
			};
		</script>
	</body>
</html>
